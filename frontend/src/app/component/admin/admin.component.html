<div class="container" *ngIf="user$ | async; let user">
    <img src="../../../assets/city_logo_blue.png" alt="" height="150" width="150">
    <div style="float: right; padding-top: 3%;">
        <button routerLink="/dashboard" class="btn btn-primary">Back to Dashboard</button>
        &nbsp;
        <button (click)="logout()" class="btn btn-primary">Logout</button>
    </div>
    <div *ngIf="user.role == 'admin'" class="container" id="admin">
        <ng-template #content let-modal>
            <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title">Set User Role</h4>
                <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
            </div>
            <div class="modal-body">
                <form [formGroup]="setRole"> 
                    <div class="form-group">
                        <label>Email</label>
                        <input type="string"
                               formControlName="email"
                               class="form-control"
                               placeholder="Enter user email">
                      </div>
                      <div class="form-group">
                        <label>Select Role</label>
                        <select class="form-select" formControlName="role">
                            <option value="locum">Locum</option>
                            <option value="clinic">Clinic</option>
                            <option value="admin">Admin</option>
                          </select>                          
                      </div>
                      <br>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button"
              class="btn btn-outline-danger"
              (click)="modal.dismiss()">Cancel</button>
      <button type="submit"
              class="btn btn-primary"
              (click)="modal.close('role')">Save</button>
            </div>
        </ng-template>
        <ng-template #del let-modal>
            <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title">Delete User</h4>
                <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
            </div>
            <div class="modal-body">
                <form [formGroup]="deleteUser">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="string"
                               formControlName="delEmail"
                               class="form-control"
                               placeholder="Enter user email">
                      </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button"
              class="btn btn-outline-danger"
              (click)="modal.dismiss()">Cancel</button>
      <button type="button"
              class="btn btn-primary"
              (click)="modal.close('del')">Save</button>
            </div>
        </ng-template>
        <ng-template #check let-modal>
            <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title">Check User Role</h4>
                <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
            </div>
            <div class="modal-body">
                <form [formGroup]="getRole">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="string"
                               formControlName="roleEmail"
                               class="form-control"
                               placeholder="Enter user email">
                      </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button"
              class="btn btn-outline-danger"
              (click)="modal.dismiss()">Cancel</button>
      <button type="button"
              class="btn btn-primary"
              (click)="modal.close('check')">Save</button>
            </div>
        </ng-template>
        <h4>Admin Control Panel</h4>
        <button type="button" class="btn btn-primary" (click)="open(check)">Check User Information</button>
        &nbsp;
        <button type="button" class="btn btn-primary" (click)="open(content)">Set User Role</button>
        &nbsp;
        <button type="button" class="btn btn-primary" (click)="open(del)">Delete User</button>
    </div>
</div>
